# ============================================================================
# MoreStars Test Environment Configuration
# ============================================================================
#
# This file contains test-specific environment variables.
# Used when running tests with: npm test
#
# IMPORTANT: These are FAKE/TEST values - never use in production!
#
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS (TEST)
# ============================================================================

NODE_ENV=test
PORT=3001
APP_URL=http://localhost:3001

# Test session secret (not used for actual security in tests)
SESSION_SECRET=test-session-secret-not-for-production-use-only-testing

# Test API secret
API_SECRET=test-api-secret-for-testing-only

# Disable request logging in tests
LOG_LEVEL=error

# ============================================================================
# DATABASE CONFIGURATION (TEST)
# ============================================================================

# Option 1: Use SQLite in-memory (faster, no setup required)
TEST_USE_REAL_DB=false

# Option 2: Use real PostgreSQL test database (for integration tests)
# Set TEST_USE_REAL_DB=true and configure:
TEST_DB_HOST=localhost
TEST_DB_PORT=5432
TEST_DB_NAME=morestars_test
TEST_DB_USER=postgres
TEST_DB_PASSWORD=test_password

# These are used if TEST_USE_REAL_DB=false (SQLite fallback)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=morestars_test
DB_USER=postgres
DB_PASSWORD=test_password

# ============================================================================
# TWILIO (MOCKED IN TESTS)
# ============================================================================

# Test credentials (these won't make real API calls)
TWILIO_ACCOUNT_SID=ACtest000000000000000000000000000
TWILIO_AUTH_TOKEN=test_auth_token_not_real
TWILIO_PHONE_NUMBER=+15551234567
TWILIO_MESSAGING_SERVICE_SID=MGtest00000000000000000000000000

# ============================================================================
# RESEND (MOCKED IN TESTS)
# ============================================================================

RESEND_API_KEY=re_test_not_real_api_key
RESEND_FROM_EMAIL=test@test.morestars.io

# ============================================================================
# GOOGLE reCAPTCHA (DISABLED IN TESTS)
# ============================================================================

# Test keys that always pass (Google's official test keys)
RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI
RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe

# ============================================================================
# STRIPE (MOCKED IN TESTS)
# ============================================================================

# Stripe test mode keys (these are fake for unit tests)
STRIPE_SECRET_KEY=sk_test_fake_key_for_testing
STRIPE_PUBLISHABLE_KEY=pk_test_fake_key_for_testing
STRIPE_WEBHOOK_SECRET=whsec_test_webhook_secret

# Test price IDs
STRIPE_PRICE_MONTHLY=price_test_monthly
STRIPE_PRICE_ANNUAL=price_test_annual

# ============================================================================
# POS INTEGRATION (MOCKED IN TESTS)
# ============================================================================

SQUARE_APP_ID=test_square_app_id
SQUARE_APP_SECRET=test_square_app_secret
SQUARE_WEBHOOK_SIGNATURE_KEY=test_webhook_signature

SHOPIFY_API_KEY=test_shopify_api_key
SHOPIFY_API_SECRET=test_shopify_api_secret

# Encryption key for POS tokens (32 bytes hex)
POS_TOKEN_ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ============================================================================
# REDIS (MOCKED IN TESTS)
# ============================================================================

# Redis URL (mocked in tests, but needed for Bull queue initialization)
REDIS_URL=redis://localhost:6379

# ============================================================================
# TEST UTILITIES
# ============================================================================

# Default test user credentials
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=Test123!@#

# Test business details
TEST_BUSINESS_NAME=Test Business LLC
TEST_REVIEW_URL=https://g.page/r/test123/review

# Test phone number
TEST_PHONE=+12125551234
