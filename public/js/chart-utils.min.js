function createSparkline(t,o,r={}){const e=document.getElementById(t);if(!e)return console.warn("Sparkline canvas not found:",t),null;window.MoreStarsCharts[t]&&window.MoreStarsCharts[t].destroy();const a=e.getContext("2d"),n={borderColor:"#FFBA49",backgroundColor:"rgba(255, 186, 73, 0.1)",pointHoverBackgroundColor:"#FFBA49",fill:!0,tension:.4,...r};return window.MoreStarsCharts[t]=new Chart(a,{type:"line",data:{labels:o.map((t,o)=>o),datasets:[{data:o,borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:2,fill:n.fill,tension:n.tension,pointRadius:0,pointHoverRadius:4,pointHoverBackgroundColor:n.pointHoverBackgroundColor}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:8,displayColors:!1,callbacks:n.tooltipCallback?{label:n.tooltipCallback}:void 0}},scales:{x:{display:!1},y:{display:!1}},interaction:{mode:"index",intersect:!1}}}),window.MoreStarsCharts[t]}function createBarChart(t,o,r={}){const e=document.getElementById(t);if(!e)return console.warn("Bar chart canvas not found:",t),null;window.MoreStarsCharts[t]&&window.MoreStarsCharts[t].destroy();const a=e.getContext("2d");return window.MoreStarsCharts[t]=new Chart(a,{type:"bar",data:o,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:!1!==r.showLegend?{position:"top"}:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",padding:8}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}}},...r}}),window.MoreStarsCharts[t]}function createDoughnutChart(t,o,r={}){const e=document.getElementById(t);if(!e)return console.warn("Doughnut chart canvas not found:",t),null;window.MoreStarsCharts[t]&&window.MoreStarsCharts[t].destroy();const a=e.getContext("2d");return window.MoreStarsCharts[t]=new Chart(a,{type:r.type||"doughnut",data:{labels:o.labels,datasets:[{data:o.data,backgroundColor:o.colors||["#FFBA49","#667EEA","#20A39E","#EF5B5B","#500B42","#94a3b8"].slice(0,o.data.length),borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:r.legendPosition||"right",labels:{padding:16,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:8}},cutout:"pie"===r.type?0:"60%",...r}}),window.MoreStarsCharts[t]}function destroyChart(t){window.MoreStarsCharts[t]&&(window.MoreStarsCharts[t].destroy(),delete window.MoreStarsCharts[t])}function destroyAllCharts(){Object.keys(window.MoreStarsCharts).forEach(t=>{window.MoreStarsCharts[t].destroy()}),window.MoreStarsCharts={}}function updateTrendBadge(t,o){const r=document.getElementById(t);if(!r)return;if(null==o||isNaN(o))return r.textContent="--",void(r.className="kpi-trend neutral");const e=o>0?"▲":o<0?"▼":"●",a=o>0?"+":"";r.textContent=`${e} ${a}${o.toFixed(1)}%`,r.className="kpi-trend "+(o>0?"positive":o<0?"negative":"neutral")}window.MoreStarsCharts=window.MoreStarsCharts||{},"undefined"!=typeof module&&module.exports&&(module.exports={createSparkline:createSparkline,createBarChart:createBarChart,createDoughnutChart:createDoughnutChart,destroyChart:destroyChart,destroyAllCharts:destroyAllCharts,updateTrendBadge:updateTrendBadge});