!function(t){"use strict";const e={isValidEmail:function(t){if(!t||"string"!=typeof t)return!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim())},isValidPassword:function(t){return!(!t||"string"!=typeof t)&&(!(t.length<8)&&(!!/\d/.test(t)&&(!!/[A-Z]/.test(t)&&(!!/[a-z]/.test(t)&&!!/[!@#$%^&*(),.?":{}|<>]/.test(t)))))},getPasswordStrength:function(t){if(!t)return 0;var e=0;return t.length>=8&&e++,t.length>=12&&e++,/[a-z]/.test(t)&&/[A-Z]/.test(t)&&e++,/\d/.test(t)&&e++,/[^a-zA-Z0-9]/.test(t)&&e++,Math.min(e,4)},getPasswordStrengthLabel:function(t){return[{label:"Very Weak",color:"#EF5B5B"},{label:"Weak",color:"#EF5B5B"},{label:"Fair",color:"#FFBA49"},{label:"Good",color:"#20A39E"},{label:"Strong",color:"#20A39E"}][Math.min(t,4)]},isValidBusinessName:function(t){if(!t||"string"!=typeof t)return!1;var e=t.trim();return e.length>=2&&e.length<=100},isValidPhone:function(t){if(!t||"string"!=typeof t)return!1;var e=t.replace(/[\s\-\(\)\.]/g,"");return/^1?\d{10}$/.test(e)},isValidUrl:function(t){if(!t||"string"!=typeof t)return!1;try{var e=new URL(t.trim());return["http:","https:"].includes(e.protocol)}catch(t){return!1}},showError:function(t,e){var r=t.id+"-error",a=document.getElementById(r);if(t.classList.add("validation-error"),t.setAttribute("aria-invalid","true"),t.setAttribute("aria-describedby",r),a)a.textContent=e,a.style.display="block";else{var n=document.createElement("p");n.id=r,n.className="form-error-message",n.textContent=e,n.setAttribute("role","alert"),t.parentNode.appendChild(n)}},clearError:function(t){var e=t.id+"-error",r=document.getElementById(e);t.classList.remove("validation-error"),t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),r&&(r.style.display="none")},validateField:function(t){var e=t.value,r=t.type,a=t.name,n=t.required;if(this.clearError(t),n&&!e.trim())return this.showError(t,"This field is required"),!1;if(!e.trim())return!0;switch(r){case"email":if(!this.isValidEmail(e))return this.showError(t,"Please enter a valid email address"),!1;break;case"tel":if(!this.isValidPhone(e))return this.showError(t,"Please enter a valid phone number"),!1;break;case"url":if(!this.isValidUrl(e))return this.showError(t,"Please enter a valid URL starting with http:// or https://"),!1;break;case"password":if(("password"===a||"newPassword"===a)&&!this.isValidPassword(e))return this.showError(t,"Password must be at least 8 characters with 1 uppercase, 1 lowercase, 1 number, and 1 special character"),!1}if("businessName"===a&&!this.isValidBusinessName(e))return this.showError(t,"Business name must be between 2 and 100 characters"),!1;if(t.minLength>0&&e.length<t.minLength)return this.showError(t,"Must be at least "+t.minLength+" characters"),!1;if(t.maxLength>0&&t.maxLength<1e4&&e.length>t.maxLength)return this.showError(t,"Must be no more than "+t.maxLength+" characters"),!1;if(t.pattern&&!new RegExp(t.pattern).test(e))return this.showError(t,t.title||"Please match the requested format"),!1;return!0},validateForm:function(t){for(var e=t.querySelectorAll("input, select, textarea"),r=!0,a=null,n=0;n<e.length;n++){var i=e[n];"hidden"===i.type||i.disabled||"submit"===i.type||(this.validateField(i)||(r=!1,a||(a=i)))}return a&&a.focus(),r},initForm:function(t,e){var r="string"==typeof t?document.querySelector(t):t;if(r){e=e||{};var a=this;r.addEventListener("blur",function(t){t.target.matches("input, select, textarea")&&a.validateField(t.target)},!0),r.addEventListener("input",function(t){t.target.matches("input, select, textarea")&&a.clearError(t.target)}),r.addEventListener("submit",function(t){if(!a.validateForm(r))return t.preventDefault(),t.stopPropagation(),e.onError&&e.onError(),!1;e.onSuccess&&e.onSuccess(t)}),r.querySelectorAll('input[type="password"][data-show-strength="true"]').forEach(function(t){var e=t.id+"-strength",r=document.getElementById(e+"-bar"),n=document.getElementById(e+"-text");r&&n&&t.addEventListener("input",function(){var e=a.getPasswordStrength(t.value),i=a.getPasswordStrengthLabel(e),s=e/4*100;r.style.width=s+"%",r.style.backgroundColor=i.color,n.textContent=t.value?i.label:"",n.style.color=i.color})})}}};if(!document.getElementById("form-validation-styles")){var r=document.createElement("style");r.id="form-validation-styles",r.textContent=[".validation-error { border-color: #EF5B5B !important; }",".validation-error:focus { border-color: #EF5B5B !important; box-shadow: 0 0 0 3px rgba(239, 91, 91, 0.15) !important; }",".form-error-message { color: #EF5B5B; font-size: 13px; margin-top: 6px; display: block; }"].join("\n"),document.head.appendChild(r)}t.FormValidation=e}(window);